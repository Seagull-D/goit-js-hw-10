{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\"use strict\"\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nconst startBtn = document.querySelector(\"[data-start]\")\nstartBtn.disabled = true;\nconsole.log(startBtn)\nlet userSelectedDate = {};\nlet currentSecond ;\nlet currentMinutes;\nlet currentHours;\nlet currentDays;\n\nflatpickr(\"#datetime-picker\", {\nenableTime: true,\ntime_24hr: true,\ndefaultDate: new Date(),\nminuteIncrement: 1,\n        onClose(selectedDates) {\n                   \n                if (selectedDates[0] > Date.now()) {\n                       \n                        startBtn.disabled = false;\n                        userSelectedDate.userDay = selectedDates[0].getDay();\n                        userSelectedDate.userHours = selectedDates[0].getHours();\n                        userSelectedDate.userMinutes = selectedDates[0].getMinutes();\n                        userSelectedDate.userSeconds = selectedDates[0].getSeconds();\n                } else {\n                    \n                        window.alert(\"Please choose a date in the future\")\n                      \n                }\n                \n\n        }\n});\n\nclass Timer {\n        constructor({ onTik }) {\n                this.onTik = onTik,\n                \n        this.isActive = false\n        }\n        \n        start() {\n                if (this.isActive) {\n                        return\n                }\n                const startTime = Date.now();\n                this.isActive = true;\n                setInterval(() => {\n                        const currentTime = Date.now();\n                        const delta = currentTime - startTime;\n                        const time = this.convertMs(delta);\n                        \n                        currentSecond = userSelectedDate.userSeconds - time.seconds;\n                        currentMinutes = userSelectedDate.userMinutes - time.minutes;\n                        currentHours = userSelectedDate.userHours - time.hours;\n                        currentDays = userSelectedDate.userDay - time.days;\n                        if (currentSecond < 0) {\n                                currentSecond += 60;\n                        }\n                        console.log(currentDays, currentHours, currentMinutes, currentSecond)\n                        \n                }, 1000);\n        } \n         convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n}\n\nconst timer = new Timer({onTik:addTimerFace})\n        \n\nstartBtn.addEventListener(\"click\", timer.start.bind(timer))\n\nconsole.log(userSelectedDate)\n\nfunction addTimerFace(currentDays, currentHours, currentMinutes, currentSecond ) {\n       const seconds = document.querySelector(\"[data-seconds]\") \n        console.log(seconds)\n}\n"],"names":["startBtn","userSelectedDate","currentSecond","currentMinutes","currentHours","currentDays","flatpickr","selectedDates","Timer","onTik","startTime","delta","time","ms","days","hours","minutes","seconds","timer","addTimerFace"],"mappings":"oFAIA,MAAMA,EAAW,SAAS,cAAc,cAAc,EACtDA,EAAS,SAAW,GACpB,QAAQ,IAAIA,CAAQ,EACpB,IAAIC,EAAmB,CAAA,EACnBC,EACAC,EACAC,EACAC,EAEJC,EAAU,mBAAoB,CAC9B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACT,QAAQC,EAAe,CAEXA,EAAc,CAAC,EAAI,KAAK,IAAG,GAEvBP,EAAS,SAAW,GACpBC,EAAiB,QAAUM,EAAc,CAAC,EAAE,OAAM,EAClDN,EAAiB,UAAYM,EAAc,CAAC,EAAE,SAAQ,EACtDN,EAAiB,YAAcM,EAAc,CAAC,EAAE,WAAU,EAC1DN,EAAiB,YAAcM,EAAc,CAAC,EAAE,WAAU,GAG1D,OAAO,MAAM,oCAAoC,CAKhE,CACT,CAAC,EAED,MAAMC,CAAM,CACJ,YAAY,CAAE,MAAAC,GAAS,CACf,KAAK,MAAQA,EAErB,KAAK,SAAW,EACf,CAED,OAAQ,CACA,GAAI,KAAK,SACD,OAER,MAAMC,EAAY,KAAK,MACvB,KAAK,SAAW,GAChB,YAAY,IAAM,CAEV,MAAMC,EADc,KAAK,MACGD,EACtBE,EAAO,KAAK,UAAUD,CAAK,EAEjCT,EAAgBD,EAAiB,YAAcW,EAAK,QACpDT,EAAiBF,EAAiB,YAAcW,EAAK,QACrDR,EAAeH,EAAiB,UAAYW,EAAK,MACjDP,EAAcJ,EAAiB,QAAUW,EAAK,KAC1CV,EAAgB,IACZA,GAAiB,IAEzB,QAAQ,IAAIG,EAAaD,EAAcD,EAAgBD,CAAa,CAE3E,EAAE,GAAI,CACd,CACA,UAAUW,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,CAEA,MAAMC,EAAQ,IAAIV,EAAM,CAAC,MAAMW,CAAY,CAAC,EAG5CnB,EAAS,iBAAiB,QAASkB,EAAM,MAAM,KAAKA,CAAK,CAAC,EAE1D,QAAQ,IAAIjB,CAAgB,EAE5B,SAASkB,EAAad,EAAaD,EAAcD,EAAgBD,EAAgB,CAC1E,MAAMe,EAAU,SAAS,cAAc,gBAAgB,EACtD,QAAQ,IAAIA,CAAO,CAC3B"}